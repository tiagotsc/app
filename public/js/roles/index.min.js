var table=$("#list").DataTable({responsive:!0,autoWidth:!1,language:{url:"/assets/plugins/datatables/pt_br.json",select:{rows:{_:"VocÃª selecionou %d linhas",0:"Clique na linha para selecionar",1:"Apenas 1 linha foi selecionada"}},buttons:{copyTitle:"Tabela copiada",copySuccess:{_:"%d linhas copiadas",1:"1 linha copiada"}}},searching:!0,ajax:$("#route_list").val(),columns:[{data:"name",width:"40%"},{data:"permissions",width:"20%"},{data:"users",width:"20%"},{data:"id",className:"text-center",orderable:!1,width:"20%",render:function(a,t,e){if("display"===t){let a=$("#route_edit").val().replace("*",e.id),t=$("#route_destroy").val().replace("*",e.id),s=`<a href="#" class="destroy ms-2" data_id="${e.id}" data_url="${t}" data_name="${e.name}"><i class="far fa-trash-alt"></i></a>`;return e.permissions&&(s=""),`<a href="${a}"><i class="far fa-edit"></i></a>\n                            ${s}`}return a}}]});$("#list tbody").on("click",".destroy",(function(a){a.preventDefault();let t=$(this).attr("data_url"),e=$(this).attr("data_name"),s=$(this);swal({title:"Deseja apagar o registro?",text:e,icon:"warning",buttons:!0,dangerMode:!0,buttons:["Cancelar","OK"]}).then((a=>{a&&$.post(t,{_method:"DELETE",_token:$('meta[name="csrf-token"]').attr("content")},(function(a){let t="success",e="Poof! Registro deletado!";0==a.status?(t="error",e="Ops! Algo errado!"):table.row(s.parents("tr")).remove().draw(),swal(e,{icon:t})})).fail((function(){swal("Error! Algo muito errado!",{icon:"error"})}))}))}));
